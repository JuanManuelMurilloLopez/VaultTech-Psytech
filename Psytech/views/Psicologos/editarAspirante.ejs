<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar aspirante</title>
    <!-- Bootstrap CSS -->
    <link href=
    "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
    rel="stylesheet">
    <!-- Link css -->
    <link rel="stylesheet" href="/css/psicologos/editarAspirante.css">
    <!-- CSS navside -->
    <link rel="stylesheet" href="/css/includeCss/_navsidePsicologo.css">
    <!-- CSS cerrar sesión -->
    <link rel="stylesheet" href="/css/includeCss/_buttonCerrarSesion.css">
</head>

<body>

    <div class="main">

        <!-- Navside -->
        <%- include('../includes/_navsidePsicologo.ejs') %>

        <div class="container">

            <!-- Boton de cerrar sesión -->
            <%- include('../includes/_buttonCerrarSesion.ejs') %>

            <div>
                <h1 class="text-center">EDITAR ASPIRANTE</h1>
            </div>
            <div>
                <form action="" method="POST">
    
                    <!--Input nombre-->
                    <div class="form-floating mb-3">
                        <input type="" class="form-control"  id="nombreUsuario" value="<%= usuario.nombreUsuario %>" name="nombreUsuario" required>
                        <label class="form-label" for="nombreUsuario">Nombre</label> <%=  %>
                    </div>
    
                    <!--Input Apellido Paterno-->
                    <div class="form-floating mb-3">
                        <input type="" class="form-control" id="apellidoPaterno" value="<%= usuario.apellidoPaterno %>" name="apellidoPaterno" required>
                        <label class="form-label" for="apellidoPaterno">Apellido Paterno</label> 
                    </div>
    
                    <!--Input Apellido Materno-->
                    <div class="form-floating mb-3">
                        <input type="" class="form-control" id="apellidoMaterno" value="<%= usuario.apellidoMaterno %>" name="apellidoMaterno">
                        <label class="form-label" for="apellidoMaterno">Apellido Materno</label>
                    </div>
    
                    <!--Input institución de procedencia-->
                    <div class="form-floating mb-3">
                        <input type="" class="form-control" id="institucionProcedencia" value="<%= aspirante.institucionProcedencia %>" name="institucionProcedencia" required>
                        <label class="form-label" for="institucionProcedencia">Institución de Procedencia</label>
                    </div>
    
                    <!--Input Correo-->
                    <div class="form-floating mb-3">
                        <input type="email" class="form-control" id="correo" value="<%= usuario.correo %>" name="correo" required>
                        <label class="form-label" for="correo">Correo</label>
                    </div>
    
                    <!--Input Lada-->
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="lada" value="<%= usuario.lada %>" name="lada" required>
                        <label class="form-label" for="lada">Lada telefónica</label>
                    </div>
    
                    <!--Input Número de teléfono-->
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="numeroTelefono" value="<%= usuario.numeroTelefono %>" name="numeroTelefono" required>
                        <label class="form-label" for="numeroTelefono">Número de teléfono</label>
                    </div>
    
                    <!--Input País de origen-->
                    <div class="mb-3">
                        <label class="form-label" for="idPais">País de origen</label> <br>
    
                        <select class="form-select" name="idPais" id="idPais">
                            <% for (pais of paises) { %>
                                <option value="<%= pais.idPais %>" 
                                    <%= pais.idPais === aspirante.idPais ? 'selected' : '' %>>
                                    <%= pais.nombrePais %>
                                </option>
                            <% } %>
                        </select>                        
    
                    </div>
    
                    <!--Input Estado-->
                    <div class="mb-4">
                        <label class="form-label" for="idEstado">Estado de residencia</label> <br>
    
                        <select class="form-select" name="idEstado" id="idEstado">
                            <% for (estado of estados) { %>
                                <option value="<%= estado.idEstado %>" 
                                    <%= estado.idEstado === aspirante.idEstado ? 'selected' : '' %>>
                                    <%= estado.nombreEstado %>
                                </option>
                            <% } %>
                        </select>                        
    
                    </div>

                    <div class="">
                        <h4 class="mb-3">Estatus:</h4>
                        <div class="d-flex gap-2 align-items-center">
                            <% if (usuario.estatusUsuario === 1) { %>
                                <button type="button" id="toggleEstatusBtn" class="btn btn-danger">Desactivar</button>
                            <% } else { %>
                                <button type="button" id="toggleEstatusBtn" class="btn btn-info">Activar</button>
                            <% } %>
                            
                            <input type="hidden" id="estatusUsuario" name="estatusUsuario" value="<%= usuario.estatusUsuario === 1 ? '1' : '0' %>">
                        </div>
                    </div>
                    
                        <br><br>

                    <div class="d-flex justify-content-between mb-4">
                        <a href="/psicologo/aspirantes/<%= aspirante.idAspirante %>/<%= idGrupo %>/<%= idInstitucion %>" class="btn btn-color--third">Regresar</a> 
                        <button class="btn btn-color--secondary" type="submit">Guardar</button>
                    </div>
                    
    
                </form>
            </div>
            
            <br>
            <div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const toggleBtn = document.getElementById('toggleEstatusBtn');
            const estatusInput = document.getElementById('estatusUsuario');
        
            toggleBtn.addEventListener('click', function() {
                const estaActiva = estatusInput.value === '1';
            
                estatusInput.value = estaActiva ? '0' : '1';
            
                toggleBtn.textContent = estaActiva ? 'Activar' : 'Desactivar';
                toggleBtn.classList.toggle('btn-danger', !estaActiva);
                toggleBtn.classList.toggle('btn-info', estaActiva);
            });
        });
    </script>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Incluir el script del navside -->
    <script src="/js/_navside.js"></script>
</body>
</html>
