<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Prueba Hartman</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="/css/aspirantes/hartmanPrueba.css" />
</head>
<body>
  <div class="container custom-container">
    <h2 class="tituloTest text-center mb-5">Test HARTMAN</h2>

    <!-- Header y Progreso -->
    <div class="headerHartman">
      <div class="progresoHartman">
        <label class="tituloProgreso">Progreso: </label>
        <span id="textoProgreso">Fase <%= fase1 ? 1 : 2 %> de 2</span>
        <div class="barraExterna">
          <div class="barraInterna" style="width: <%= fase1 ? '50%' : '100%' %>;"></div>
        </div>
      </div>
    </div>

    <!-- Instrucciones -->
    <div class="alert light-info mb-4 p-4 rounded">
      <h5 class="fw-bold text-dark">Instrucciones:</h5>
      <% if (fase1) { %>
        <p class="mb-1">Encontrará usted 18 frases, cada una de estas representa algo a lo cual un individuo puede asignarle diferentes valores (bueno o malo) dependiendo de sus propias consideraciones acerca de qué es bueno o malo. Lea cuidadosamente todas las frases.</p>
        <p class="mb-1"><strong>Lea cuidadosamente todas las frases.</strong></p>
        <p class="mb-0">
            Relacione el número 1 con la frase que en su opinión representa el valor más alto, o sea la frase que usted considera que expresa el mejor valor.
        </p>
        <p class="mb-0">
            Relacione el número 2 con la frase que usted considera está en segundo lugar, y así sucesivamente. Enumere todas las frases o citas en sentido descendente utilizando un número
            diferente para cada una de las 18 frases (3, 4 ,5 y así sucesivamente) hasta llegar al número 18 que deberá representar aquella que usted considera que expresa lo peor.
        </p>
        <p class="mb-0">
            No juzgue las frases o citas por la importancia sino exclusivamente por la bondad o maldad que contienen. Concéntrese en su tarea.
        </p>
        <p class="mb-0">
            Decida rápidamente qué número le va a asignar a cada una de las frases o citas. Esta prueba suele llevar alrededor de 10 minutos, sin embargo, cuenta con 2 horas para completarla.
        </p>
      <% } else { %>
        <p class="mb-1">Encontrará usted 18 citas, cada una de estas representa algo a lo cual un individuo puede asignarle diferentes valores (bueno o malo) dependiendo de sus propias consideraciones acerca de qué es bueno o malo. Lea cuidadosamente todas las citas.</p>
        <p class="mb-1"><strong>Lea cuidadosamente todas las citas.</strong></p>
        <p class="mb-0">
            Relacione el número 1 con la cita que en su opinión representa el valor más alto, o sea la cita que usted considera que expresa el mejor valor.
        </p>
        <p class="mb-0">
            Relacione el número 2 con la cita que usted considera está en segundo lugar, y así sucesivamente. Enumere todas las frases o citas en sentido descendente utilizando un número
            diferente para cada una de las 18 citas (3, 4 ,5 y así sucesivamente) hasta llegar al número 18 que deberá representar aquella que usted considera que expresa lo peor.
        </p>
        <p class="mb-0">
            No juzgue las frases o citas por la importancia sino exclusivamente por la bondad o maldad que contienen. Concéntrese en su tarea.
        </p>
        <p class="mb-0">
            Decida rápidamente qué número le va a asignar a cada una de las frases o citas. Esta prueba suele llevar alrededor de 10 minutos, sin embargo, cuenta con 2 horas para completarla.
        </p>
      <% } %>
    </div>


    <!-- Mensaje de error -->
    <div id="error-message" class="alert alert-danger d-none">
      <strong>No puede continuar con respuestas duplicadas.</strong><br>
      Por favor, revise las opciones marcadas en rojo y asigne un número único a cada pregunta.
    </div>

    <!-- Formulario -->
    <form action="/aspirante/prueba-hartman/fase<%= fase1 ? 1 : 2 %>" method="POST" id="hartman-form">
      <div class="row">
        <% preguntasHartman.forEach((pregunta, index) => { %>
          <div class="col-md-6">
            <div class="question-box">
              <div class="question-text">
                <strong>N° <%= numerosPreguntas[index] %>:</strong> <%= pregunta %>
              </div>
              <div class="ranking-select">
                <select class="form-select" name="respuesta_<%= numerosPreguntas[index] %>" required>
                  <option value="">Ranking</option>
                  <% for (let opcion = 1; opcion <= 18; opcion++) { %>
                    <option value="<%= opcion %>"><%= opcion %></option>
                  <% } %>
                </select>
              </div>
            </div>
          </div>
        <% }) %>
      </div>

      <!-- Botón de envío -->
      <div class="text-center mt-5">
        <button type="submit" class="btn btn-color--secondary" id="submit-button">Siguiente</button>
      </div>
    </form>
  </div>

  <script src="/js/aspirantes/respondeHartman.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
<script>
  // Bloquea el botón de "atrás"
  history.pushState(null, null, location.href);
  window.onpopstate = function () {
    history.pushState(null, null, location.href);
    alert("No puedes regresar a la pantalla anterior durante la prueba.");
  };
</script>
</html>
